{"remainingRequest":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/bm/github-profile/vue-manage-system-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/bm/github-profile/vue-manage-system-master/node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!/Users/bm/github-profile/vue-manage-system-master/src/components/page/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bm/github-profile/vue-manage-system-master/src/components/page/Login.vue","mtime":1579399708871},{"path":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":1579166323930},{"path":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":1579166323365},{"path":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":1579166323930},{"path":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js","mtime":1579166331242}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/bm/github-profile/vue-manage-system-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LoginApi from \"./LoginApi\";\nexport default {\n  data: function data() {\n    return {\n      param: {\n        account: '254568214@qq.com',\n        secret: 'xucy123456',\n        type: 101,\n        address: returnCitySN['cname']\n      },\n      rules: {\n        account: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        secret: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n\n      this.$refs.login.validate(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee(valid) {\n          var datas;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!valid) {\n                    _context.next = 13;\n                    break;\n                  }\n\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return LoginApi.postToken(_this.param);\n\n                case 4:\n                  datas = _context.sent;\n\n                  if (datas.success == 1) {\n                    _this.$message.success('登录成功');\n\n                    localStorage.setItem('ms_username', JSON.stringify(datas.datas));\n\n                    _this.$router.push('/');\n                  }\n\n                  _context.next = 11;\n                  break;\n\n                case 8:\n                  _context.prev = 8;\n                  _context.t0 = _context[\"catch\"](1);\n\n                  _this.$message.error(_context.t0.msg);\n\n                case 11:\n                  _context.next = 16;\n                  break;\n\n                case 13:\n                  _this.$message.error('请输入账号和密码');\n\n                  console.log('error submit!!');\n                  return _context.abrupt(\"return\", false);\n\n                case 16:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 8]]);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,kBADA;AAEA,QAAA,MAAA,EAAA,YAFA;AAGA,QAAA,IAAA,EAAA,GAHA;AAIA,QAAA,OAAA,EAAA,YAAA,CAAA,OAAA;AAJA,OADA;AAOA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,MAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAFA;AAPA,KAAA;AAYA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KADA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,yBAGA,QAAA,CAAA,SAAA,CAAA,KAAA,CAAA,KAAA,CAHA;;AAAA;AAGA,kBAAA,KAHA;;AAIA,sBAAA,KAAA,CAAA,OAAA,IAAA,CAAA,EAAA;AACA,oBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,oBAAA,YAAA,CAAA,OAAA,CAAA,aAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,KAAA,CAAA;;AACA,oBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AARA;AAAA;;AAAA;AAAA;AAAA;;AAUA,kBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA,GAAA;;AAVA;AAAA;AAAA;;AAAA;AAcA,kBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA;;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AAfA,mDAgBA,KAhBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAmBA;AArBA;AAfA,CAAA","sourcesContent":["<template>\n    <div class=\"login-wrap\">\n        <div class=\"ms-login\">\n            <div class=\"ms-title\">后台管理系统</div>\n            <el-form :model=\"param\" :rules=\"rules\" ref=\"login\" label-width=\"0px\" class=\"ms-content\">\n                <el-form-item prop=\"account\">\n                    <el-input v-model=\"param.account\" placeholder=\"username\">\n                        <el-button slot=\"prepend\" icon=\"el-icon-lx-people\"></el-button>\n                    </el-input>\n                </el-form-item>\n                <el-form-item prop=\"secret\">\n                    <el-input\n                        type=\"password\"\n                        placeholder=\"password\"\n                        v-model=\"param.secret\"\n                        @keyup.enter.native=\"submitForm()\"\n                    >\n                        <el-button slot=\"prepend\" icon=\"el-icon-lx-lock\"></el-button>\n                    </el-input>\n                </el-form-item>\n                <div class=\"login-btn\">\n                    <el-button type=\"primary\" @click=\"submitForm()\">登录</el-button>\n                </div>\n                <p class=\"login-tips\">Tips : 用户名和密码随便填。</p>\n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport LoginApi from './LoginApi'\nexport default {\n    data: function() {\n        return {\n            param: {\n                account: '254568214@qq.com',\n                secret: 'xucy123456',\n                type:101,\n                address:returnCitySN['cname']\n            },\n            rules: {\n                account: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\n                secret: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n            },\n        };\n    },\n    methods: {\n         submitForm() {\n            this.$refs.login.validate(async valid => {\n                if (valid) {\n                    try{\n                        let datas=await LoginApi.postToken(this.param)\n                        if(datas.success==1){\n                                this.$message.success('登录成功');\n                                localStorage.setItem('ms_username',JSON.stringify(datas.datas));\n                                this.$router.push('/');\n                        }\n                    }catch(err){\n                           this.$message.error(err.msg);\n                    }\n                \n                } else {\n                    this.$message.error('请输入账号和密码');\n                    console.log('error submit!!');\n                    return false;\n                }\n            });\n        },\n    },\n};\n</script>\n\n<style scoped>\n.login-wrap {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background-image: url(../../assets/img/login-bg.jpg);\n    background-size: 100%;\n}\n.ms-title {\n    width: 100%;\n    line-height: 50px;\n    text-align: center;\n    font-size: 20px;\n    color: #fff;\n    border-bottom: 1px solid #ddd;\n}\n.ms-login {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 350px;\n    margin: -190px 0 0 -175px;\n    border-radius: 5px;\n    background: rgba(255, 255, 255, 0.3);\n    overflow: hidden;\n}\n.ms-content {\n    padding: 30px 30px;\n}\n.login-btn {\n    text-align: center;\n}\n.login-btn button {\n    width: 100%;\n    height: 36px;\n    margin-bottom: 10px;\n}\n.login-tips {\n    font-size: 12px;\n    line-height: 30px;\n    color: #fff;\n}\n</style>"],"sourceRoot":"src/components/page"}]}