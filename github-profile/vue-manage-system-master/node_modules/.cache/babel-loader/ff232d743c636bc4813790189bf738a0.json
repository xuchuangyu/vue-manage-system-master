{"remainingRequest":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/bm/github-profile/vue-manage-system-master/src/utils/request.js","dependencies":[{"path":"/Users/bm/github-profile/vue-manage-system-master/src/utils/request.js","mtime":1579601784435},{"path":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":1579166323930},{"path":"/Users/bm/github-profile/vue-manage-system-master/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":1579166323365}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/bm/github-profile/vue-manage-system-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport router from \"../router\";\nimport ElementUI from 'element-ui';\nvar service = axios.create({\n  // process.env.NODE_ENV === 'development' 来判断是否开发环境\n  // easy-mock服务挂了，暂时不使用了\n  // baseURL: 'https://www.easy-mock.com/mock/592501a391470c0ac1fab128',\n  timeout: 5000\n});\nservice.interceptors.request.use(function (config) {\n  console.log('config');\n  console.log(config);\n  return config;\n}, function (error) {\n  console.log(error);\n  return Promise.reject();\n});\nservice.interceptors.response.use(function (response) {\n  console.log('response');\n  console.log(response);\n\n  if (response.status === 200) {\n    return response.data;\n  } else {\n    Promise.reject();\n  }\n},\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(error) {\n    var res;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (error.response) {\n              // The request was made and the server responded with a status code\n              // that falls out of the range of 2xx\n              console.log(error.response.data);\n              console.log(error.response.status);\n              console.log(error.response.headers);\n            } else if (error.request) {\n              console.log(error.request);\n            } else {\n              // Something happened in setting up the request that triggered an Error\n              console.log('Error', error.message);\n            }\n\n            res = error.response.data;\n            console.log(res);\n\n            if (!(res.error_code == 10006)) {\n              _context.next = 10;\n              break;\n            }\n\n            console.log(10006);\n            ElementUI.Notification({\n              title: res.msg,\n              message: '清退出重新登录',\n              offset: 100\n            });\n            localStorage.removeItem('ms_username');\n            router.push('/login');\n            _context.next = 11;\n            break;\n\n          case 10:\n            return _context.abrupt(\"return\", Promise.reject(res));\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\nexport default service;",{"version":3,"sources":["/Users/bm/github-profile/vue-manage-system-master/src/utils/request.js"],"names":["axios","router","ElementUI","service","create","timeout","interceptors","request","use","config","console","log","error","Promise","reject","response","status","data","headers","message","res","error_code","Notification","title","msg","offset","localStorage","removeItem","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;AACzB;AACA;AACA;AACAC,EAAAA,OAAO,EAAE;AAJgB,CAAb,CAAhB;AAOAF,OAAO,CAACG,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAAAC,MAAM,EAAI;AACNC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,SAAOA,MAAP;AACH,CALL,EAMI,UAAAG,KAAK,EAAI;AACLF,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA,SAAOC,OAAO,CAACC,MAAR,EAAP;AACH,CATL;AAYAX,OAAO,CAACG,YAAR,CAAqBS,QAArB,CAA8BP,GAA9B,CACI,UAAAO,QAAQ,EAAI;AACRL,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;;AAEA,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,WAAOD,QAAQ,CAACE,IAAhB;AACH,GAFD,MAEO;AACHJ,IAAAA,OAAO,CAACC,MAAR;AACH;AAEJ,CAXL;AAAA;AAAA;AAAA;AAAA;AAAA,0BAYG,iBAAOF,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACK,gBAAIA,KAAK,CAACG,QAAV,EAAoB;AAChB;AACA;AACAL,cAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACG,QAAN,CAAeE,IAA3B;AACAP,cAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACG,QAAN,CAAeC,MAA3B;AACAN,cAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACG,QAAN,CAAeG,OAA3B;AACD,aANH,MAMS,IAAIN,KAAK,CAACL,OAAV,EAAmB;AACxBG,cAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACL,OAAlB;AACD,aAFM,MAEA;AACL;AACAG,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAAK,CAACO,OAA3B;AACD;;AACGC,YAAAA,GAbX,GAaeR,KAAK,CAACG,QAAN,CAAeE,IAb9B;AAcOP,YAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;;AAdP,kBAeUA,GAAG,CAACC,UAAJ,IAAgB,KAf1B;AAAA;AAAA;AAAA;;AAgBSX,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACDT,YAAAA,SAAS,CAACoB,YAAV,CAAuB;AAClBC,cAAAA,KAAK,EAAEH,GAAG,CAACI,GADO;AAElBL,cAAAA,OAAO,EAAE,SAFS;AAGlBM,cAAAA,MAAM,EAAE;AAHU,aAAvB;AAKCC,YAAAA,YAAY,CAACC,UAAb,CAAwB,aAAxB;AACA1B,YAAAA,MAAM,CAAC2B,IAAP,CAAY,QAAZ;AAvBT;AAAA;;AAAA;AAAA,6CAyBgBf,OAAO,CAACC,MAAR,CAAeM,GAAf,CAzBhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAZH;;AAAA;AAAA;AAAA;AAAA;AA2CA,eAAejB,OAAf","sourcesContent":["import axios from 'axios';\nimport router from '../router';\nimport ElementUI from 'element-ui';\nconst service = axios.create({\n    // process.env.NODE_ENV === 'development' 来判断是否开发环境\n    // easy-mock服务挂了，暂时不使用了\n    // baseURL: 'https://www.easy-mock.com/mock/592501a391470c0ac1fab128',\n    timeout: 5000\n});\n\nservice.interceptors.request.use(\n    config => {\n        console.log('config')\n        console.log(config)\n        return config;\n    },\n    error => {\n        console.log(error);\n        return Promise.reject();\n    }\n);\n\nservice.interceptors.response.use(\n    response => {\n        console.log('response')\n        console.log(response)\n    \n        if (response.status === 200) {\n            return response.data;\n        } else {\n            Promise.reject();\n        }\n      \n    },\n   async  error => {\n        if (error.response) {\n            // The request was made and the server responded with a status code\n            // that falls out of the range of 2xx\n            console.log(error.response.data);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n          } else if (error.request) {\n            console.log(error.request);\n          } else {\n            // Something happened in setting up the request that triggered an Error\n            console.log('Error', error.message);\n          }\n          let res=error.response.data;\n          console.log(res);\n          if(res.error_code==10006){\n            console.log(10006)\n           ElementUI.Notification({\n                title: res.msg,\n                message: '清退出重新登录',\n                offset: 100\n            })\n            localStorage.removeItem('ms_username');\n            router.push('/login');\n          }else{\n            return Promise.reject(res);\n          }\n       \n    }\n);\n\nexport default service;\n"]}]}